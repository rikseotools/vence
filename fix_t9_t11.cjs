const { createClient } = require('@supabase/supabase-js');
require('dotenv').config({ path: '.env.local' });

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL,
  process.env.SUPABASE_SERVICE_ROLE_KEY
);

(async () => {
  // T9 - Organización territorial - 87 falsos positivos
  const t9FP = [
    'ae90c001-ea8a-4232-a460-4cc575158e5e',
    '409ec2e5-b617-4170-a6b0-5f8c28422bd6',
    'eae7a829-2907-4231-8a17-faba6fb2c614',
    '4ae4f990-1cc3-4ea3-8788-775b4f2e788b',
    '640736ed-9189-4122-b0bc-549d87b5fa87',
    '16db6d3a-06c1-4c40-ad0b-829d5d82e19a',
    '1f793d21-bb38-4c9b-a9b4-84247d6e6fe8',
    '37de172e-9e18-4c77-a12f-b28e1231e829',
    '8d642591-36cc-4171-83fd-11d9b603711d',
    'c07b5f94-23fe-4a42-99fa-f932fc48e7d2',
    '07b37dad-4a42-446b-8bbc-6478b643ac15',
    'd21ab70d-1fed-4cb6-95c5-a4ba62b421ec',
    '9f5251bc-451c-4e00-a950-8ce75e8e847b',
    '59643817-c0b8-416b-88bd-dcab7b694796',
    'ed10536b-33a1-4646-afc8-728bb08d2bb1',
    'd3b841c7-3bc0-44ba-9782-a7a6a0845433',
    '4f299aa5-d573-44d9-b452-481dafe923ba',
    '8b3ffdaa-4e34-4af6-90f8-b4c6ca3e346d',
    '91f366fd-9bdb-4baf-b523-84a707862abc',
    '8bb94bc4-acc2-4678-80f7-e7841037567a',
    '9b16771b-e693-45c6-ac76-0b3ff44c73f2',
    'a62bdbdd-9bc8-4f75-9f62-712986f62d0d',
    '88bd6a7e-3b6f-4e0e-bab9-358583e22def',
    '5637bd1b-a65d-4669-b6dd-3e22cc7956d4',
    '34739bf2-db38-403b-a95f-b764ede68fdd',
    'ddbb91a9-e649-40b0-933f-587b2f2729f3',
    'ccbd3117-3023-4974-891d-68a6d4da9d2c',
    '4601d3d4-8551-4bc8-a70a-3e6cb9fa4db4',
    '228578b8-f000-463e-a52c-4dc42ed4e5f3',
    '5158ad21-9d26-4605-8146-9ea7e74a1d2a',
    '8de65243-334c-40a7-9f55-a70ca79f7add',
    '81d47064-e9b0-4a28-82a0-9d93aed2b2ea',
    '2faea573-15eb-4238-81a2-e1cb6c21c70c',
    '9ecb4acd-e300-4553-989f-22a3562a660e',
    '7537d914-7908-4855-a5f2-8e8d79512598',
    'e50e8441-ecad-4bc9-9f2b-303ef05d708a',
    '8a4e3437-a964-408a-914d-752e842e46b9',
    '0ca63e5a-1fa9-46ac-bbc2-a886b8384f3e',
    '52afbde5-f9f1-418a-8ecf-d947a861ea53',
    '94fd5249-75ac-46f2-8d6e-8a37bc773315',
    'c216502d-23af-4627-a616-3a24ab343df7',
    '4a65bd99-85b1-48dd-b681-6052e42daa59',
    'abb96ccb-e058-480a-85cd-e1feefc97ded',
    'ba4b702c-6ae4-4036-9007-e8c11bf9160e',
    '94c913ee-86e0-4fa0-b7dc-cb473d23d159',
    '116c9d86-c79b-4b51-8503-22692c63443b',
    '85fc7942-7056-4501-bd85-95c97eae3549',
    'c7d1f748-8cde-486f-8489-bcd48e415f36',
    'dce6ef11-46ba-4224-ad6d-c95cf712392c',
    '79a5fd90-2d89-447e-9702-d11befa90289',
    '56ca7e05-8b68-4096-a241-ea6f7de0220d',
    '52974c0b-303a-4890-9162-d1898dc67318',
    '9d3ecaab-c87f-4106-b7ca-e95e00336af8',
    '92359e6e-d259-4a90-903b-6be06b23dad7',
    '1be5edbc-3093-44ab-b508-1e36e351cecb',
    'a68af932-6189-4afb-86cf-7e1991447da9',
    'e636bbf7-a27f-4726-ae02-fca8a57b937e',
    '31743848-93ec-443b-bf00-caf7116b480a',
    '83df1391-5683-411d-91ee-4ca8af2b376a',
    'a46c03b1-350e-44f8-ba86-28a83123ed90',
    'f39c760b-da01-4aca-b7bf-38e94fe8ebcb',
    'd1be1a05-e1b9-46d5-b538-bcf87962e8a3',
    '9b0b8d79-1943-43f8-88c1-cc74adc6a946',
    '21dd3c04-4a77-42ac-b682-7b6f3f85d485',
    'ae692a46-b665-42d7-ada0-0d7529dc5256',
    '26498a49-8c27-4151-bd8c-5956149f7288',
    '80813f3c-e9c1-46e3-bd36-959cd6db0331',
    'bdd12543-7d10-423f-a365-f7b7c24ba436',
    '5e4bd56d-ca34-4dde-9aa9-29f67c9faa10',
    'c99c2ad4-718a-45e6-9869-422abfeb6a8e',
    '5c8d67ae-81da-44d8-8e11-dcd45c94d194',
    'fee4c69f-fa67-433c-867c-796ee4238e0b',
    '8f37fd71-ceec-4299-b49a-4e4da2cd822f',
    '7d823e01-c528-4876-8c5e-55aa89bf08f3',
    '4729bd87-760b-4a4d-a1f9-43bfd28dcdbe',
    'e803fbe7-b412-4535-be30-3354f74940c7',
    '9850f627-c739-4891-ac64-83e764be6871',
    '4e77148c-ff1f-4f36-8188-0307addee7c3',
    '82264226-bbb4-4ee2-8003-3c6f8d01d1d2',
    '17e45ac9-dfc9-4910-ae94-65aabd87ceb8',
    'cf1b7376-addf-49d1-bfdf-7e6ef2fe4d45',
    '84c38902-4b89-485a-8023-be218aa2bcf9',
    '69b52169-311e-4a83-9298-d2df6e5f8eed',
    'd40ef7cf-b1fd-4d26-81e6-4a876d73431b',
    'f67e5600-ae09-411e-9661-c895e003f902',
    '9f5f4a32-41bc-4d8a-afdd-3664a4649127',
    'e0dddafa-7b19-43c7-a559-37cc784f873f'
  ];

  console.log('T9: Actualizando', t9FP.length, 'preguntas a perfect...');

  const { error: e9 } = await supabase
    .from('questions')
    .update({
      topic_review_status: 'perfect',
      verified_at: new Date().toISOString(),
      verification_status: 'ok'
    })
    .in('id', t9FP);

  if (e9) console.log('❌ T9 Error:', e9.message);
  else console.log('✅ T9:', t9FP.length, 'preguntas actualizadas');

  // T11 - LPAC/LRJSP - 98+ falsos positivos
  const t11FP = [
    '5cb70b6b-56b2-4047-8047-317fc087ae83',
    'a0733497-ed69-4d4f-a893-8253a4ef41c5',
    '86dac6cb-3e48-4440-bb40-63f2d7bfb3b6',
    '4b925047-2347-4464-880f-68ea5581e946',
    '1ed4fa65-0538-43b2-be9b-13ff0bc5045a',
    '5d750f94-3640-4195-9d95-a9386fc460a6',
    'c0bbf6d1-3cfd-4d20-acc0-82928266849b',
    'b6ae57e4-2c3f-4dfb-8113-1a6e5c6e4057',
    '39e6bb48-1869-4e6f-b0fc-8eb6b1d37734',
    '05f7f8ff-6db9-4384-8809-e0e5c32dd3d8',
    '6b977629-a3a3-4f87-8c8b-db97b5c5c1c7',
    '79840e7f-a5e6-4b53-90cf-68b7143bf032',
    '5f3b534e-716c-4cdf-8e77-7c63d4a94c8e',
    '5c060a3c-14d4-4aaa-bf93-895eb530aa62',
    '54d86db7-d8cf-4c84-b2c4-f8cd46421951',
    'eaf125a8-554f-43c3-a5aa-6fa7bbfd206b',
    '215692c8-c3fd-4b8e-ab6c-c8196a6b2b6c',
    '59fcb564-72f6-4441-a4e8-3e7908d38576',
    'fb14b8c4-e1da-4856-9440-19b98b629450',
    'b57a1c75-d871-404f-91af-0b86e7ee2adb',
    'fca7503d-9157-41c1-8543-314c31074a4b',
    '3d0e83d9-ab61-4df2-8620-f754aceca723',
    'c36e098e-6508-4448-b573-22768547939a',
    '28298c80-ffbe-431a-890c-4dc214bfa828',
    '58489133-0c3d-4b37-a957-bf4646f00b89',
    '972b8301-5fb6-41a0-877c-f9561a85342d',
    'a5379270-8f28-4882-9115-4d8957a453c3',
    'e038aa30-cf0f-4688-b34d-dc0a262d6f37',
    '9d64ba31-1dd7-4929-bda2-cd601fb3c4c8',
    '6aa1fc82-4074-4a94-9abc-e8021cd6165b',
    '618263ef-cd9a-40a4-8e23-d0500c5f05e2',
    '0b4503bf-e5b4-49e7-85fd-6e173a243dd2',
    '546a7c35-455f-47be-95c8-5403eaa1cf6f',
    '77da7bec-e373-4965-9445-6118bf48e8a0',
    '2d75d8ab-e57e-4a5f-adb6-2e0431666682',
    'd3ae1a61-2468-4fa9-be67-67388fb35f7e',
    'a47855c5-5df3-446d-8eb4-6ab28e2626bf',
    'aad67e39-4183-4840-a718-56e9df16db56',
    'fc5f3a36-7316-4220-aa48-471828c7090b',
    'c5a4d481-2fa9-4d28-bdb3-312c9d2851d3',
    'b899db3e-fff4-4e66-aa24-fe706d15a304',
    '6a71711c-a1a1-4f17-ab75-ab7c581abc66',
    '5f719f64-74bf-4187-b094-d69536655ecf',
    'f5b4c11f-6e00-47fd-ad00-bec1c6b73e55',
    '01421ef1-e164-4784-9999-3f62530e144d',
    'eb4ef4e5-3f07-4117-8385-756ea21ee001',
    '3bea78cf-b070-4e37-96e2-27b10db3432f',
    '4f88a075-b8ed-4421-8dc8-e52ebf6b3223',
    '5ec78767-b70c-4ae1-959f-e851cf809b44',
    '75051587-4886-4611-b54f-644ad4da8521',
    '44323af2-3a9b-4c87-bb24-b42a41dd0eb2',
    '822c0734-7381-48ce-a92d-49f3e21718c0',
    '6e6ff6b3-9442-4607-9a00-c7bead2e9aee',
    '3966ca29-5cd7-4188-a0e0-6a6ca05b9b30',
    '869623ec-0b9e-42ee-97fa-d4eb624c2aa7',
    '4ea744d7-4e22-4df8-95e4-959d3e4c0a93',
    '93f05b73-c730-4454-95c1-38dd9eafc9ac',
    '0597741a-ef6d-42a0-ba63-d2e9f98a1452',
    'a0b68b0e-bece-468a-992b-d217d8a069fc',
    'edd4cb02-7916-4624-9dc7-6a5e20fa399a',
    'ab4ac8ab-0c61-41d7-abdc-00dd84d451f4',
    'c9b31783-dce1-4655-9e6d-b972787ab4ac',
    'da7bb00a-2b65-4d61-9a68-4ff1a599341a',
    '095a648a-6a57-4494-b19a-0961165c1196',
    '61b91e40-aa41-4758-8386-1d7f6d02cba1',
    'b42a31e4-2a3e-461f-9b3e-3e09217464ff',
    '4fd97b1b-15ae-49fc-b19c-597b12aacf3e',
    'd8a5cb0e-4da8-4791-8080-b2aea87e3ff2',
    '54ada47e-22f6-4ef7-aeec-567adf28321f',
    '4cc553e4-1d54-4b69-bbbb-70576610deb1',
    'b0ae345a-94c5-4e2d-861c-2593cc344fc6',
    'cc399011-ef07-4495-92b8-29b02645a616',
    '322e4620-daae-4a09-ae67-4453d2004256',
    '605bffa7-d897-4c4e-b965-0be348d707bf',
    'b82fbcc1-ff50-4a51-ba0f-7de1151141f9',
    '6c7582df-850c-4417-906b-a0e0ff0e6bb7',
    '2f5930ca-78ae-435e-88d5-37fed5e69e9e',
    '7683a580-db5f-48df-a009-6a4af953085f',
    '8b7f96ba-8838-4064-a5cf-fe454e290091',
    '7e788e19-ea87-4871-adf1-62caea5cf285',
    '514a3435-aa77-48a0-860b-36fe3f7ca63d',
    '081206d1-eaaa-43ba-a9f9-4ebc9d649f50',
    '60ccc27a-25f4-43d3-9e5d-5a033c36b5f2',
    '5977ee15-b1d6-46a9-a6ea-52c5276523fe',
    'a63e2afb-a719-4bf8-93f7-40894c946922',
    'd0d5328f-b3ef-4510-a9f0-aeb941595f59',
    'e90c9f64-d37e-4f3c-bd9e-849e4d878fcc',
    'df399a85-d507-4cf9-b5c5-700eca2c8260',
    '495c86c4-d8a2-425e-aa4d-648689d6e2ed',
    '724213f2-f3ee-4248-9799-5d993ec4102c',
    '15b31394-8acc-4072-a8be-b43767164af8',
    '4516ffc6-431f-4259-80b9-cd5ea45d0e7e',
    'efcd2dce-8d34-487f-b558-5cb22b55fa73',
    '82f5449f-5907-4f94-b86f-d6aeff7e93a6',
    '1b6d46fa-ecdf-46ad-876f-91f916c0f5b1',
    '61982b18-4d4b-4748-a7eb-1fba8bf88f94',
    '4c6d348b-a890-4dea-b292-4652b68ef2d9',
    'b114022f-3a05-4cfe-a4c6-8b67b2ba3e7b',
    '65a3972f-4cee-4ba0-86f2-94f315cfbb5d',
    '6ab6eca6-825e-4517-80e5-9f216d9f64e9',
    'e77da1e2-51b1-4d14-b5e0-5b7b798a31f3',
    'a82a1eca-262f-45bc-90dd-08586a1e3f23',
    'b14a0699-e9f2-4f41-89f8-3b32f7185c9b',
    '9ad9d71e-ac3a-4c1e-8e4c-2e3b8fc98403',
    '5c2347ef-06a9-4aa6-87ba-c798cca66587',
    '6683e5c1-246d-4a88-86f1-85a36855a4be',
    'eedf0bb7-12f9-4370-bfd3-a5f23f0327b6',
    'd6c797b6-1d70-4a6b-aab4-87a1cafaa6ab',
    '0e631943-be08-4f0b-a9e3-13fa210a4399',
    '0b206d6f-2a8c-4124-9d8b-7f719e6d6496',
    'e3961da9-9844-4cd6-8a47-cf5578ec9fe9',
    '3832fc64-1b68-44aa-a483-e727c2f1b485',
    '1be0f92a-cfd3-4a14-bae8-2083330cd79e',
    '5fe93ffd-53a4-42a4-aa8e-9dc43f676690',
    'b0866248-e9e2-487b-a447-968cbb17b80b',
    'b3f967b8-76ac-4282-8464-b89d0bb63a2b',
    '805163be-1fea-4d57-8a22-81dc6539b967',
    '1da17cec-bcb2-4e90-95fd-238534aff7f1'
  ];

  console.log('T11: Actualizando', t11FP.length, 'preguntas a perfect...');

  const { error: e11 } = await supabase
    .from('questions')
    .update({
      topic_review_status: 'perfect',
      verified_at: new Date().toISOString(),
      verification_status: 'ok'
    })
    .in('id', t11FP);

  if (e11) console.log('❌ T11 Error:', e11.message);
  else console.log('✅ T11:', t11FP.length, 'preguntas actualizadas');

  console.log('\n═══════════════════════════════════════════════════════════════');
  console.log('RESUMEN:');
  console.log('  T9:', t9FP.length, '→ 0 errores (20 pendientes revisión)');
  console.log('  T11:', t11FP.length, '→ 0 errores (29 pendientes revisión)');
  console.log('═══════════════════════════════════════════════════════════════');
})();
